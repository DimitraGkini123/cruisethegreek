<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blog Post | CruiseTheGreek</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="style.css">
  <style>
body {
  font-family: "Poppins", sans-serif;
  color: #002b45;
  background: #fff;
  margin: 0;
}

/* --- Header Banner --- */
.blog-header {
  background: linear-gradient(rgba(0,0,0,0.45), rgba(0,0,0,0.45)), url("images/blog/banner-sail.jpg") center/cover no-repeat;
  color: white;
  text-align: center;
  padding: 80px 20px 60px;
}
.blog-header h1 {
  font-size: 36px;
  margin-bottom: 8px;
}
.blog-header p {
  color: #f1f1f1;
  font-size: 15px;
}

/* --- Blog Layout --- */
.blog-post-container {
  max-width: 850px;
  margin: 60px auto;
  padding: 0 20px;
}
.blog-post img.main-image {
  width: 100%;
  border-radius: 12px;
  object-fit: cover;
  height: 400px;
  margin-bottom: 25px;
}
.blog-post h2 {
  font-size: 30px;
  color: #002b45;
  margin-bottom: 12px;
}
.blog-meta {
  color: #777;
  font-size: 14px;
  margin-bottom: 20px;
}
.blog-meta i {
  color: #ff6600;
  margin-right: 6px;
}
.blog-content {
  font-size: 16px;
  color: #333;
  line-height: 1.8;
  text-align: justify;
}
.blog-content p {
  margin-bottom: 16px;
}

/* --- You may also like --- */
.related-posts {
  margin-top: 60px;
}
.related-posts h3 {
  color: #ff6600;
  border-bottom: 2px solid #ffd6b3;
  padding-bottom: 6px;
  margin-bottom: 20px;
  text-align: center;
}
.related-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 20px;
}
.related-card {
  background: #fff;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 2px 10px rgba(0,0,0,0.06);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  cursor: pointer;
}
.related-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 5px 14px rgba(0,0,0,0.1);
}
.related-card img {
  width: 100%;
  height: 150px;
  object-fit: cover;
}
.related-card div {
  padding: 12px;
}
.related-card h4 {
  font-size: 15px;
  color: #002b45;
  margin: 0 0 5px;
}
.related-card p {
  font-size: 13px;
  color: #555;
  margin: 0;
}

/* --- Responsive --- */
@media (max-width: 768px) {
  .blog-post img.main-image {
    height: 250px;
  }
}
  </style>
</head>
<body>

<header>
  <nav class="navbar">
    <div class="logo">CruiseTheGreek.com</div>
    <button class="menu-toggle"><i class="fa-solid fa-bars"></i></button>
    <ul class="nav-links">
      <li><a href="index.html">HOME</a></li>
      <li><a href="results.html?type=cruise_only">CRUISES</a></li>
      <li><a href="results.html?type=cruise_package">CRUISE PACKAGES</a></li>
      <li><a href="tours.html">TOURS</a></li>
      <li><a href="ships.html">CRUISE SHIPS</a></li>
      <li><a href="destinations.html">DESTINATIONS</a></li>
      <li><a href="contact.html">CONTACT</a></li>
    </ul>
  </nav>
</header>

<section class="blog-header">
  <h1>Blog Article</h1>
  <p>Inspiration and insights for true sea lovers</p>
</section>

<section class="blog-post-container">
  <div class="blog-post" id="blogPost"></div>
  <div class="related-posts">
    <h3>You may also like</h3>
    <div class="related-grid" id="relatedPosts"></div>
  </div>
</section>

<footer class="footer">
  <div class="footer-bottom">
    <p>Â© 2016 - 2025 <span>CruiseTheGreek.com</span>. All Rights Reserved.</p>
  </div>
</footer>

<script>
// === Load blog data and render selected post ===
async function loadPost() {
  const params = new URLSearchParams(window.location.search);
  const id = parseInt(params.get("id"));
  if (!id) {
    document.getElementById("blogPost").innerHTML = "<p>Article not found.</p>";
    return;
  }

  try {
    const res = await fetch("data/blog.json");
    const posts = await res.json();
    const post = posts.find(p => p.id === id);

    if (!post) {
      document.getElementById("blogPost").innerHTML = "<p>Article not found.</p>";
      return;
    }

    // === Render Main Article ===
    document.getElementById("blogPost").innerHTML = `
      <img src="${post.image}" alt="${post.title}" class="main-image">
      <h2>${post.title}</h2>
      <div class="blog-meta">
        <i class="fa-regular fa-calendar"></i> ${new Date(post.date).toLocaleDateString("en-GB", {year:"numeric",month:"long",day:"numeric"})}
        &nbsp; | &nbsp; <i class="fa-solid fa-tag"></i> ${post.category}
      </div>
      <div class="blog-content">
        ${post.content ? post.content.map(p=>`<p>${p}</p>`).join("") : `<p>${post.excerpt}</p>`}
      </div>
    `;

    // === Related Posts ===
    const related = posts.filter(p => p.category === post.category && p.id !== id).slice(0, 2);
    const relatedContainer = document.getElementById("relatedPosts");
    relatedContainer.innerHTML = related.map(r => `
      <div class="related-card" onclick="window.location.href='blog_post.html?id=${r.id}'">
        <img src="${r.image}" alt="${r.title}">
        <div>
          <h4>${r.title}</h4>
          <p>${r.excerpt}</p>
        </div>
      </div>
    `).join("");
  } catch (err) {
    console.error("Error loading post:", err);
  }
}

loadPost();
</script>
</body>
</html>
