<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cruise Only Details | CruiseTheGreek</title>

  <!-- Font Awesome & CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="cruise-details.css">
</head>

<body>

<!-- ===== Top Bar ===== -->
<div class="top-bar">
  <div class="top-bar-content">
    <a href="tel:+302101234567" class="whatsapp-icon" title="Call via WhatsApp">
      <i class="fa-brands fa-whatsapp"></i>
    </a>
    <a href="tel:+302101234567" class="phone-link">
      <span class="phone">+30 210 123 4567</span>
    </a>
  </div>
</div>

<!-- ===== Navbar ===== -->
<header>
  <nav class="navbar">
    <div class="logo">CruiseTheGreek.com</div>
      <button class="menu-toggle" aria-label="Toggle Menu">
      <i class="fa-solid fa-bars"></i>
    </button>
    <ul class="nav-links">
      <li><a href="index.html">HOME</a></li>
      <li><a href="results.html?type=cruise_only">CRUISES</a></li>
      <li><a href="results.html?type=cruise_package" class="active">CRUISE PACKAGES</a></li>
      <li><a href="tours.html">TOURS</a></li>
      <li><a href="ships.html">CRUISE SHIPS</a></li>
      <li><a href="destinations.html">DESTINATIONS</a></li>
      <li><a href="contact.html">CONTACT</a></li>
    </ul>
  </nav>
</header>

<!-- ===== Main Page ===== -->
<main class="cruise-details-page">

  <!-- Breadcrumb -->
  <nav class="breadcrumb">
    <a href="index.html"><i class="fa-solid fa-house"></i></a>
    <span>â€º</span>
    <a href="results.html?type=cruise_only">Cruise Only</a>
    <span>â€º</span>
    <span id="breadcrumbTitle">Cruise Details</span>
  </nav>

<!-- ===== Cruise Title ===== -->
<section class="cruise-header">
  <div class="cruise-header-left">
    <h1 id="cruiseTitle" class="main-title">Cruise Title</h1>
      <div class="itinerary-actions">
  <button id="printBtn"><i class="fa-solid fa-print"></i> Print Itinerary</button>
  <button id="emailBtn"><i class="fa-solid fa-envelope"></i> Send via Email</button>
</div>

  </div>



  <div class="cruise-header-right">
    <p class="price">from <span id="cruisePrice">â€”</span></p>
    <button class="book-btn">Book Now</button>
  </div>
</section>

<div class="cruise-actions">
  <button class="floating-book-btn">Book Now</button>
  <a href="tel:+302101234567" class="floating-call-btn" title="Call us">
    <i class="fa-solid fa-phone"></i>
  </a>
</div>


<!-- ===== Gallery ===== -->
<section class="cruise">
  <div class="gallery-layout">
    <!-- ÎšÏÏÎ¹Î± ÎµÎ¹ÎºÏŒÎ½Î± -->
    <div class="gallery-main">
      <img id="cruiseImage" src="" alt="Cruise Only" class="gallery-img">
    </div>

    <!-- Î Î»ÎµÏ…ÏÎ¹ÎºÎ­Ï‚ ÎµÎ¹ÎºÏŒÎ½ÎµÏ‚ -->
    <div class="gallery-side" id="gallerySide">
      <!-- JS Î¸Î± Î²Î¬Î»ÎµÎ¹ ÎµÎ´Ï Ï„Î¹Ï‚ ÎµÎ¹ÎºÏŒÎ½ÎµÏ‚ Î±Ï€ÏŒ cruises.json -->
    </div>
  </div>

  <!-- Lightbox -->
  <div id="lightbox" class="lightbox">
    <span class="close">&times;</span>
    <img class="lightbox-content" id="lightbox-img">
    <a class="prev">&#10094;</a>
    <a class="next">&#10095;</a>
  </div>
</section>

<!-- ===== Sticky Menu ===== -->
<nav class="sticky-menu">
  <ul>
    <li><a href="#description">Description</a></li>
    <li><a href="#itinerary">Itinerary</a></li>
    <li><a href="#ship">Cruise Ship - Cabins</a></li>
    <li><a href="#pricelist">Pricelist</a></li>
    <li><a href="#shore-excursions">Shore Excursions</a></li>
    
    <li><a href="#faq">FAQ</a></li>
  </ul>
</nav>

<!-- ===== Description Section ===== -->
<section id="description" class="description-section">
  <div class="description-left">
    <h2>Description</h2>

    <!-- Cruise Meta moved here -->
    <div class="cruise-meta">
      <span><i class="fa-solid fa-ship"></i> Departure: <span id="departurePort"></span></span>
      <span><i class="fa-solid fa-flag"></i> Arrival: <span id="arrivalPort"></span></span>
      <span><i class="fa-solid fa-hourglass-half"></i> <span id="cruiseDuration"></span></span>
      <span><i class="fa-solid fa-map-location-dot"></i> Route: <span id="cruiseRoute"></span></span>
      <span><i class="fa-solid fa-anchor"></i> Cruise Ship: <span id="cruiseShip"></span></span>
    </div>

    <!-- Description text -->
    <div id="cruiseDescription"></div>
  </div>

  <div class="description-right">
    <h3>Why choose <br><span>CruiseTheGreek.com?</span></h3>
    <ul>
      <li>âœ… Best prices â€” based in Athens</li>
      <li>âœ… Final prices â€” no hidden fees</li>
      <li>âœ… Includes cruise, hotel & transfers</li>
      <li>âœ… Specialized travel consultants</li>
    </ul>
    <p class="call-text">Call us now:</p>
    <p class="phone">+30 210 123 4567</p>
  </div>
</section>




<section id="itinerary" class="section itinerary">
  <h2>Itinerary</h2>
  <div class="timeline">
    <!-- Î¤Î± timeline items Î¸Î± Ï€ÏÎ¿ÏƒÏ„ÎµÎ¸Î¿ÏÎ½ Î´Ï…Î½Î±Î¼Î¹ÎºÎ¬ Î±Ï€ÏŒ Ï„Î¿ script -->
  </div>
</section>


<!-- ===== Cruise Ship Section ===== -->
<section id="ship" class="section cruise-ship">
  <h2>Cruise Ship - Cabins</h2>

  
  <!-- 1ï¸âƒ£ YouTube Video -->
  <div class="ship-video">
<iframe width="560" height="315" src="https://www.youtube.com/embed/n83LDnLwzgE?si=6oTD4YtByjmb9Ufj" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
  </div>


<div class="ship-info">
  <h3>Ship Characteristics</h3>

  <div class="ship-table" id="shipTable">
    <!-- Î¤Î± Î´ÎµÎ´Î¿Î¼Î­Î½Î± Î¸Î± Î¼Ï€Î¿Ï…Î½ ÎµÎ´Ï -->
  </div>
</div>


    <!-- 3ï¸âƒ£ Î Î±ÏÎ¿Ï‡Î­Ï‚ Î Î»Î¿Î¯Î¿Ï… -->
    <div class="ship-facilities">
      <h3>Onboard Facilities</h3>

      <div class="facility-container">
        <button class="facility-btn prev-facility"><i class="fa-solid fa-chevron-left"></i></button>

        <div class="facility-content">
          <div class="facility-image">
            <img id="facilityImage" src="images/pool.jpg" alt="Facility">
          </div>
          <div class="facility-text">
            <h4 id="facilityTitle">Outdoor Pool</h4>
            <p id="facilityDescription">Relax at our panoramic sea-view pool with sunbeds and cocktail service.</p>
          </div>
        </div>

        <button class="facility-btn next-facility"><i class="fa-solid fa-chevron-right"></i></button>
      </div>
    </div>


  <!-- 4ï¸âƒ£ Deckplan -->
<div class="deckplan">
  <h3>Deck Plan</h3>

  <div id="deckButtons" class="deck-buttons"></div>
  <div class="deck-image-container">
    <img id="deckImage" src="" alt="Deck Plan" class="deck-image">
      <button class="zoom-btn" title="Zoom deck plan">
    <i class="fa-solid fa-magnifying-glass-plus"></i>
  </button>

</div>



  <!-- 5ï¸âƒ£ Cabins -->
<div class="cabins">
  <h3>Cabins</h3>
  <div id="cabinsContainer" class="cabins-container"></div>
</div>

<!-- Lightbox Î³Î¹Î± gallery -->
<div id="cabinLightbox" class="cabin-lightbox">
  <span class="close-btn">&times;</span>
  <img id="cabinLightboxImg" src="" alt="">
  <a class="prev">&#10094;</a>
  <a class="next">&#10095;</a>
</div>

</section>
   <!-- ===== Pricelist ===== -->
<section id="pricelist" class="section pricelist">
  <h2>Pricelist</h2>

  <table class="date-price-table">
    <thead>
      <tr>
        <th>Date</th>
        <th>Inside</th>
        <th>Oceanview</th>
        <th>Balcony</th>
        <th>Suite</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>
          <label class="date-option">
            <input type="radio" name="cruise-date">
            <span>April 4 - 11, 2025</span>
          </label>
        </td>
        <td>from <strong>â‚¬217</strong></td>
        <td>from <strong>â‚¬317</strong></td>
        <td>from <strong>â‚¬417</strong></td>
        <td>from <strong>â‚¬517</strong></td>
      </tr>

      <tr>
        <td>
          <label class="date-option">
            <input type="radio" name="cruise-date">
            <span>April 11 - 18, 2025</span>
          </label>
        </td>
        <td>from <strong>â‚¬299</strong></td>
        <td>from <strong>â‚¬399</strong></td>
        <td>from <strong>â‚¬499</strong></td>
        <td>from <strong>â‚¬599</strong></td>
      </tr>

      <tr>
        <td>
          <label class="date-option">
            <input type="radio" name="cruise-date">
            <span>April 18 - 25, 2025</span>
          </label>
        </td>
        <td>from <strong>â‚¬220</strong></td>
        <td>from <strong>â‚¬320</strong></td>
        <td>from <strong>â‚¬420</strong></td>
        <td>from <strong>â‚¬520</strong></td>
      </tr>

      <tr>
        <td>
          <label class="date-option">
            <input type="radio" name="cruise-date">
            <span>April 25 - May 2, 2025</span>
          </label>
        </td>
        <td>from <strong>â‚¬238</strong></td>
        <td>from <strong>â‚¬338</strong></td>
        <td>from <strong>â‚¬438</strong></td>
        <td>from <strong>â‚¬538</strong></td>
      </tr>
    </tbody>
  </table>
</section>

    <!-- ===== Included / Not Included ===== -->
    <section id="included" class="section included-section">
      <div class="included-grid">
        <ul class="included-list">
          <h3>Price Includes</h3>
          <li><i class="fa-solid fa-check"></i> 5-night cruise accommodation</li>
          <li><i class="fa-solid fa-check"></i> Full board (breakfast, lunch, dinner)</li>
          <li><i class="fa-solid fa-check"></i> Port taxes & service fees</li>
          <li><i class="fa-solid fa-check"></i> Onboard entertainment</li>
          <li><i class="fa-solid fa-check"></i> Access to pool & gym</li>
        </ul>

        <ul class="excluded-list">
          <h3>Price Does Not Include</h3>
          <li><i class="fa-solid fa-xmark"></i> Shore excursions</li>
          <li><i class="fa-solid fa-xmark"></i> Alcoholic beverages</li>
          <li><i class="fa-solid fa-xmark"></i> Personal expenses & gratuities</li>
        </ul>
      </div>
    </section>


<section id="shore-excursions" class="section shore-excursions">
  <h2>Shore Excursions</h2>

  <div id="tabs" class="tabs"></div>
  <div id="tabContents" class="tab-contents"></div>

  <!-- Modal -->
  <div id="excursionModal" class="excursion-modal">
    <div class="excursion-modal-content">
      <span class="close-btn">&times;</span>
      <h3 id="modalTitle"></h3>
      <img id="modalImage" src="" alt="Excursion Image">
      <p id="modalText"></p>
    </div>
  </div>
</section>



<!-- ===== FAQ ===== -->
<section id="faq" class="section faq">
  <h2>Frequently Asked Questions</h2>

  <div class="faq-container">

    <div class="faq-item">
      <button class="faq-question">
        Do I need to bring my passport?
        <i class="fa-solid fa-chevron-down"></i>
      </button>
      <div class="faq-answer">
        <p>No, this is a domestic tour within Greece. Only a valid ID card is required.</p>
      </div>
    </div>

    <div class="faq-item">
      <button class="faq-question">
        Are meals included?
        <i class="fa-solid fa-chevron-down"></i>
      </button>
      <div class="faq-answer">
        <p>Lunch is included only if you select the "Tour with Lunch" option during booking.</p>
      </div>
    </div>

    <div class="faq-item">
      <button class="faq-question">
        Can I cancel my booking for free?
        <i class="fa-solid fa-chevron-down"></i>
      </button>
      <div class="faq-answer">
        <p>Yes, cancellations up to 48 hours before departure are free of charge.</p>
      </div>
    </div>

    <div class="faq-item active">
  <button class="faq-question">
    What are other similar cruises?
    <i class="fa-solid fa-chevron-down"></i>
  </button>

  <div class="faq-answer">
  <div class="similar-cruises" id="similarCruisesContainer">
    <p style="text-align:center; color:#666;">Loading similar cruises...</p>
  </div>
</div>

  </div>
</div>


  </div>
</section>

</main>

 <!-- ======== FOOTER ======== -->
<footer class="footer">
  <div class="footer-container">
    
    <!-- ğŸ”¹ 1Î· Î£Ï„Î®Î»Î·: Logo + Î•Ï€Î¹ÎºÎ¿Î¹Î½Ï‰Î½Î¯Î± -->
    <div class="footer-col">
      <h3 class="footer-logo">CruiseTheGreek.com</h3>
      <p class="footer-phone">+1 (415) 7957979</p>
      <p><a href="mailto:info@cruisethegreek.com">info@cruisethegreek.com</a></p>
      <p>8, Aggelou Vlachou st, Plaka, Athens</p>
      <img src="images/gnto.png" alt="GNTO" class="footer-gnto">
      <p class="footer-gnto-code">GNTO: 0206E60000362401</p>
    </div>

    <!-- ğŸ”¹ 2Î· Î£Ï„Î®Î»Î·: Navigation Menu -->
    <div class="footer-col">
      <h4>Menu</h4>
      <ul class="footer-nav">
        <li><a href="index.html">HOME</a></li>
        <li><a href="cruises.html">CRUISES</a></li>
        <li><a href="packages.html">CRUISE PACKAGES</a></li>
        <li><a href="tours.html">TOURS</a></li>
        <li><a href="ships.html">CRUISE SHIPS</a></li>
        <li><a href="destinations.html">DESTINATIONS</a></li>
        <li><a href="contact.html">CONTACT</a></li>
        <li><a href="faqs.html" class="active">FAQ</a></li>
      </ul>
    </div>

    <!-- ğŸ”¹ 3Î· Î£Ï„Î®Î»Î·: Newsletter -->
    <div class="footer-col">
      <h4>Newsletter</h4>
      <form class="newsletter-form">
        <input type="email" placeholder="Email" required>
        <button type="submit">REGISTER</button>
      </form>
      <ul>
        <li><a href="#">Contact Us</a></li>
        <li><a href="#">B2B Partnership</a></li>
        <li><a href="#">Partners Login</a></li>
      </ul>
    </div>
  </div>

  <!-- ğŸ”¸ ÎšÎ¬Ï„Ï‰ Î³ÏÎ±Î¼Î¼Î® -->
  <div class="footer-bottom">
    <p>Â© 2016 - 2025 <span>CruiseTheGreek.com</span>. All Rights Reserved.</p>
  </div>
</footer>
<!-- === Booking Calendar Modal === -->
<div id="bookingModal" class="modal">
  <div class="modal-content booking-box">
    <span class="close-btn">&times;</span>
    <h2 id="bookingTitle">Î•Ï€Î¹Î»Î­Î¾Ï„Îµ Î·Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± Î±Î½Î±Ï‡ÏÏÎ·ÏƒÎ·Ï‚</h2>
    <p>Î’ÏÎµÎ¯Ï„Îµ Ï„Î¹Ï‚ Î´Î¹Î±Î¸Î­ÏƒÎ¹Î¼ÎµÏ‚ Î±Î½Î±Ï‡Ï‰ÏÎ®ÏƒÎµÎ¹Ï‚ Î¼Îµ <strong style="color:#ff6600;">Ï€Î¿ÏÏ„Î¿ÎºÎ±Î»Î¯</strong> Î­Î½Î´ÎµÎ¹Î¾Î·.</p>
    <div id="calendarContainer"></div>
    <button id="continueBooking" class="book-btn">Continue</button>
  </div>
</div>

<!-- ================================== Scripts ====================================== -->

<script>
document.addEventListener("DOMContentLoaded", () => {
  const selectedTitle = localStorage.getItem("selectedCruise");
  if (!selectedTitle) {
    console.warn("âš ï¸ No cruise title found in localStorage");
    return;
  }

  console.log("Selected cruise title:", selectedTitle);

  fetch("data/cruises.json")
    .then(res => res.json())
    .then(data => {
      // Î‘Î½ Ï„Î¿ Î±ÏÏ‡ÎµÎ¯Î¿ ÎµÎ¯Î½Î±Î¹ object-of-objects, Î±Î»Î»Î¹ÏÏ‚ Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¯Î·ÏƒÎµ data.find(...)
      const cruise = Object.values(data).find(p => p.title === selectedTitle);

      if (!cruise) {
        console.error("âŒ Cruise not found in cruises.json:", selectedTitle);
        return;
      }

      console.log("âœ… Cruise loaded:", cruise);

      // === Î•Î½Î·Î¼Î­ÏÏ‰ÏƒÎ· Î²Î±ÏƒÎ¹ÎºÏÎ½ ÏƒÏ„Î¿Î¹Ï‡ÎµÎ¯Ï‰Î½ ===
      const $ = (id) => document.getElementById(id);
      $("cruiseTitle").textContent = cruise.title;
      $("breadcrumbTitle").textContent = cruise.title;
      $("cruiseImage").src = cruise.image || "images/cruise-only.jpg";
      $("departurePort").textContent = cruise.departure || "â€”";
      $("arrivalPort").textContent = cruise.arrival || "â€”";
      $("cruiseDuration").textContent = cruise.duration || "â€”";
      $("cruiseRoute").textContent = (cruise.route || "").split("|").join(" â†’ ");
      $("cruisePrice").textContent = cruise.priceNew || "â€”";
      $("cruiseShip").textContent = cruise.ship || "â€”";

      // === Î ÎµÏÎ¹Î³ÏÎ±Ï†Î® ===
      $("cruiseDescription").innerHTML = `
        <p><strong>${cruise.duration}</strong> cruise-only package.</p>
        <p>Departure from <strong>${cruise.departure}</strong> and arrival at <strong>${cruise.arrival}</strong>.</p>
        <p>Visit: ${(cruise.route || "").split("|").join(", ")}.</p>
        <p><strong>Offer:</strong> ${cruise.offer || "â€”"}</p>
      `;

      // === Gallery ===
      const sideGallery = document.querySelector(".gallery-side");
      sideGallery.innerHTML = "";
      (cruise.gallery || []).forEach((src, i) => {
        const img = document.createElement("img");
        img.src = src;
        img.alt = `${cruise.title} photo ${i + 1}`;
        img.className = "gallery-img";
        img.addEventListener("click", () => openLightbox(i));
        sideGallery.appendChild(img);
      });

      // === Itinerary ===
      const itineraryContainer = document.querySelector("#itinerary .timeline");
      if (Array.isArray(cruise.itinerary) && cruise.itinerary.length) {
        itineraryContainer.innerHTML = cruise.itinerary.map(stop => `
          <div class="timeline-item">
            <div class="timeline-dot">${stop.day ?? ""}</div>
            <div class="timeline-content">
              <img src="${stop.image || "images/default.jpg"}" alt="${stop.title || ""}">
              <div class="text">
                <h3>Day ${stop.day ?? ""} â€“ ${stop.title ?? ""}</h3>
                <p>${stop.desc ?? ""}</p>
                <span class="time">${stop.arrival || "â€”"} â€¢ ${stop.departureTime || "â€”"}</span>
              </div>
            </div>
          </div>
        `).join("");
      } else {
        itineraryContainer.innerHTML = "<p>No itinerary available for this cruise.</p>";
      }
      

    
        if (cruise.ship) {
        loadShipDetails(cruise.ship);
        loadExcursions(cruise.ship);
      }
    })
    .catch(err => console.error("âŒ Error loading cruises.json:", err));

function loadShipDetails(shipName) {
    const shipTable = document.getElementById("shipTable");
    const deckButtonsContainer = document.getElementById("deckButtons");
    const deckImage = document.getElementById("deckImage");
    const cabinsContainer = document.getElementById("cabinsContainer");
    const lightbox = document.getElementById("cabinLightbox");
    const lightboxImg = document.getElementById("cabinLightboxImg");
    const closeBtn = document.querySelector(".cabin-lightbox .close-btn");
    const prevBtn = document.querySelector(".cabin-lightbox .prev");
    const nextBtn = document.querySelector(".cabin-lightbox .next");

    let cabins = [];
    let currentCabinIndex = 0;
    let currentImageIndex = 0;

    // --- 1ï¸âƒ£ Î¦ÏŒÏÏ„Ï‰ÏƒÎ· Ship Info & Decks ---
    fetch("data/ships_data.json")
      .then(res => res.json())
      .then(data => {
        const ship = data[shipName];
        if (!ship) {
          shipTable.innerHTML = `<p>No ship info found for <strong>${shipName}</strong>.</p>`;
          return;
        }

        // Ship Info
        shipTable.innerHTML = `
          <div class="ship-row">
            <div class="ship-col"><strong>Gross Tonnage:</strong> ${ship.tonnage}</div>
            <div class="ship-col"><strong>Crew:</strong> ${ship.crew}</div>
          </div>
          <div class="ship-row">
            <div class="ship-col"><strong>Passengers:</strong> ${ship.passengers}</div>
            <div class="ship-col"><strong>Cabins:</strong> ${ship.cabins}</div>
          </div>
          <div class="ship-row">
            <div class="ship-col"><strong>Length:</strong> ${ship.length}</div>
            <div class="ship-col"><strong>Speed:</strong> ${ship.speed}</div>
          </div>
        `;

        // Deck Buttons
        if (ship.decks && ship.decks.length > 0) {
          deckButtonsContainer.innerHTML = "";
          ship.decks.forEach((deck, i) => {
            const btn = document.createElement("button");
            btn.className = `deck-btn ${i === 0 ? "active" : ""}`;
            btn.textContent = deck.name;
            btn.dataset.image = deck.image;

            btn.addEventListener("click", () => {
              document.querySelectorAll(".deck-btn").forEach(b => b.classList.remove("active"));
              btn.classList.add("active");
              deckImage.classList.add("fade");
              setTimeout(() => {
                deckImage.src = deck.image;
                deckImage.alt = deck.name;
                deckImage.classList.remove("fade");
              }, 200);
            });

            deckButtonsContainer.appendChild(btn);
          });

          deckImage.src = ship.decks[0].image;
          deckImage.alt = ship.decks[0].name;
        } else {
          deckButtonsContainer.innerHTML = "<p>No deck plan available.</p>";
        }
      })
      .catch(err => console.error("âŒ Error loading ship data:", err));

    // --- 2ï¸âƒ£ Î¦ÏŒÏÏ„Ï‰ÏƒÎ· ÎšÎ±Î¼Ï€Î¹Î½ÏÎ½ + Gallery ---
    fetch("data/cabins.json")
      .then(res => res.json())
      .then(data => {
        cabins = data[shipName];
        if (!cabins || !cabins.length) {
          cabinsContainer.innerHTML = "<p>No cabin data available for this ship.</p>";
          return;
        }

        cabinsContainer.innerHTML = cabins.map((cabin, i) => `
          <div class="cabin-card">
            <img src="${cabin.images[0]}" alt="${cabin.name}" data-cabin-index="${i}">
            <div class="cabin-details">
              <h4>${cabin.name}</h4>
              <p>${cabin.desc}</p>
              <ul>${Object.entries(cabin.details)
                .map(([k, v]) => `<li><strong>${k}:</strong> ${v}</li>`)
                .join("")}</ul>
            </div>
          </div>
        `).join("");

        // Click ÏƒÎµ ÎµÎ¹ÎºÏŒÎ½Î± -> Î†Î½Î¿Î¹Î³Î¼Î± lightbox
        cabinsContainer.addEventListener("click", e => {
          const img = e.target.closest("img[data-cabin-index]");
          if (!img) return;

          currentCabinIndex = parseInt(img.dataset.cabinIndex);
          currentImageIndex = 0;
          showImage();
          lightbox.style.display = "flex";
        });
      })
      .catch(err => console.error("âŒ Error loading cabins:", err));

    // --- Lightbox Î›ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¹ÎºÏŒÏ„Î·Ï„Î± ---
    function showImage() {
      const cabin = cabins[currentCabinIndex];
      if (!cabin) return;
      lightboxImg.style.opacity = 0;
      setTimeout(() => {
        lightboxImg.src = cabin.images[currentImageIndex];
        lightboxImg.alt = cabin.name;
        lightboxImg.style.opacity = 1;
      }, 200);
    }

    function changeImage(direction) {
      const cabin = cabins[currentCabinIndex];
      if (!cabin) return;
      const total = cabin.images.length;
      currentImageIndex = (currentImageIndex + direction + total) % total;
      showImage();
    }

    prevBtn.addEventListener("click", () => changeImage(-1));
    nextBtn.addEventListener("click", () => changeImage(1));
    closeBtn.addEventListener("click", () => (lightbox.style.display = "none"));
    lightbox.addEventListener("click", e => {
      if (e.target === lightbox) lightbox.style.display = "none";
    });
  }
});
</script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const printBtn = document.getElementById("printBtn");
  const emailBtn = document.getElementById("emailBtn");

  // PRINT SUMMARY
  printBtn.addEventListener("click", () => {
    const cruiseTitle = localStorage.getItem("selectedCruise");
    const price = document.querySelector(".cruise-header-right .price span").innerText;
    const itinerary = Array.from(document.querySelectorAll(".timeline-content h3"))
      .map(h3 => "- " + h3.innerText)
      .join("\n");

const summary = `
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             ${cruiseTitle.toUpperCase()}              
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PRICE: ${price}

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
OVERVIEW
Embark on a luxurious voyage across the shimmering Aegean.
Discover hidden harbors, ancient ruins, and world-famous islands.
Enjoy fine dining, onboard entertainment, and true Greek hospitality.
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ITINERARY
${itinerary || "- Detailed day-by-day itinerary coming soon -"}

Each stop reveals something special â€” the charm of Mykonos,
the breathtaking sunsets of Santorini, and the timeless beauty
of Rhodes and Crete. Every sunrise is a new story to live.
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

DEPARTURE INFORMATION
Boarding from Athens Port â€” embarkation starts at 14:00.
Final disembarkation takes place at the end of voyage.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Book now at CruiseTheGreek.com
or call +30 210 123 4567

Generated on: ${new Date().toLocaleString()}
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
`;



    const printWindow = window.open("", "_blank");
    printWindow.document.write(`<pre style="font-family: Arial; font-size: 15px;">${summary}</pre>`);
    printWindow.document.close();
    printWindow.print();
  });

  //  SEND EMAIL
  emailBtn.addEventListener("click", () => {
    const selectedTitle = localStorage.getItem("selectedCruise");
    const subject = encodeURIComponent(`Cruise Itinerary: ${cruiseTitle}`);
    const body = encodeURIComponent(`Hello,\n\nHere is the summary of your selected cruise from CruiseTheGreek.com.\n\n${cruiseTitle}\n\nBook now at: https://cruisethegreek.com\n\nBest regards,\nCruiseTheGreek Team`);
    window.location.href = `mailto:?subject=${subject}&body=${body}`;
  });
});
</script>

 <!-- ===== Lightbox Script ===== -->
<script>
document.addEventListener("DOMContentLoaded", () => {
  const lightbox = document.getElementById("lightbox");
  const lightboxImg = document.getElementById("lightbox-img");
  const closeBtn = document.querySelector(".close");
  const prevBtn = document.querySelector(".prev");
  const nextBtn = document.querySelector(".next");
  const gallerySide = document.querySelector("#gallerySide");

  let images = [];
  let currentIndex = 0;

  // âœ… Î ÎµÏÎ¹Î¼Î­Î½Î¿Ï…Î¼Îµ Î½Î± Ï†Î¿ÏÏ„Ï‰Î¸Î¿ÏÎ½ Î¿Î¹ ÎµÎ¹ÎºÏŒÎ½ÎµÏ‚ Î´Ï…Î½Î±Î¼Î¹ÎºÎ¬
  const observer = new MutationObserver(() => {
    images = Array.from(document.querySelectorAll(".gallery-img"));

    images.forEach((img, index) => {
      img.addEventListener("click", () => {
        lightbox.style.display = "flex";
        currentIndex = index;
        showImage(currentIndex);
      });
    });
  });

  // Î Î±ÏÎ±ÎºÎ¿Î»Î¿Ï…Î¸ÎµÎ¯ Î±Î»Î»Î±Î³Î­Ï‚ ÏƒÏ„Î¿ gallerySide
  observer.observe(gallerySide, { childList: true });

  function showImage(index) {
    if (images.length === 0) return;
    lightboxImg.src = images[index].src;
  }

  closeBtn.addEventListener("click", () => (lightbox.style.display = "none"));

  prevBtn.addEventListener("click", () => {
    if (images.length === 0) return;
    currentIndex = (currentIndex - 1 + images.length) % images.length;
    showImage(currentIndex);
  });

  nextBtn.addEventListener("click", () => {
    if (images.length === 0) return;
    currentIndex = (currentIndex + 1) % images.length;
    showImage(currentIndex);
  });

  // ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿ Î±Î½ ÎºÎ¬Î½ÎµÎ¹Ï‚ click ÎµÎºÏ„ÏŒÏ‚
  lightbox.addEventListener("click", e => {
    if (e.target === lightbox) lightbox.style.display = "none";
  });
});
</script>


  <script>
document.addEventListener("DOMContentLoaded", () => {
  const faqItems = document.querySelectorAll(".faq-item");
  faqItems.forEach(item => {
    const q = item.querySelector(".faq-question");
    q.addEventListener("click", () => {
      item.classList.toggle("active");
    });
  });
});
</script>

<script>
window.addEventListener("scroll", () => {
  const btn = document.querySelector(".floating-book-btn");
  btn.style.opacity = window.scrollY > 400 ? "1" : "0";
});
</script>

<script>
document.querySelectorAll(".tab").forEach(tab => {
  tab.addEventListener("click", () => {
    document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
    document.querySelectorAll(".tab-content").forEach(c => c.classList.remove("active"));
    tab.classList.add("active");
    document.getElementById(tab.dataset.target).classList.add("active");
  });
});
</script>

<script>
document.querySelectorAll(".excursion-box").forEach(box => {
  box.addEventListener("click", () => {
    const title = box.querySelector("h4").innerText;
    const description = box.querySelector("p").innerText;
    const imageMap = {
      "Volcano & Hot Springs Tour": "images/volcano.jpg",
      "Oia Sunset Experience": "images/sunset.jpg",
      "Walking Tour of Mykonos Town": "images/walking.jpg",
      "Delos Island Archaeological Tour": "images/delos.jpg",
      "Medieval Old Town Tour": "images/rhodos.png",
      "Lindos Acropolis Excursion": "images/lindos.jpg",
      "Knossos Palace & Heraklion Museum": "images/knossos.jpg",
      "Rethymno & Chania Old Town": "images/chania.jpg"
    };

    document.getElementById("modalTitle").innerText = title;
    document.getElementById("modalImage").src = imageMap[title] || "images/default.jpg";
    document.getElementById("modalText").innerText = `
${description}

First, youâ€™ll head to the village area with stunning views and local architecture.
Youâ€™ll explore nearby settlements, visit historical landmarks, and enjoy free time for photos.
Your guide will share stories about the culture and traditions of the island.
    `;

    document.getElementById("excursionModal").style.display = "flex";
  });
});

document.querySelector(".close-btn").addEventListener("click", () => {
  document.getElementById("excursionModal").style.display = "none";
});

window.addEventListener("click", e => {
  if (e.target.id === "excursionModal") {
    document.getElementById("excursionModal").style.display = "none";
  }
});
</script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const sections = document.querySelectorAll("section[id]");
  const navLinks = document.querySelectorAll(".sticky-menu li a");
  const gallery = document.querySelector(".cruise, .tour-gallery"); // gallery section
  const galleryBottom = gallery.offsetTop + gallery.offsetHeight;

  function updateActiveLink() {
    let scrollPos = window.scrollY + 150; // Î¼Î¹ÎºÏÎ® Î±Î½Î¿Ï‡Î®

    // Î‘Î½ ÎµÎ¯Î¼Î±ÏƒÏ„Îµ Ï€Î¬Î½Ï‰ Î±Ï€ÏŒ Ï„Î¿ gallery, ÎºÎ±Î½Î­Î½Î± active
    if (scrollPos < galleryBottom) {
      navLinks.forEach(link => link.classList.remove("active"));
      return;
    }

    // Î”Î¹Î±Ï†Î¿ÏÎµÏ„Î¹ÎºÎ¬, Î²ÏÎµÏ‚ ÏƒÎµ Ï€Î¿Î¹Î¿ section ÎµÎ¯Î¼Î±ÏƒÏ„Îµ
    sections.forEach(sec => {
      const top = sec.offsetTop - 160;
      const bottom = top + sec.offsetHeight;
      const id = sec.getAttribute("id");

      if (scrollPos >= top && scrollPos <= bottom) {
        navLinks.forEach(link => link.classList.remove("active"));
        document
          .querySelector(`.sticky-menu li a[href="#${id}"]`)
          ?.classList.add("active");
      }
    });
  }

  window.addEventListener("scroll", updateActiveLink);
});
</script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const facilities = [
    {
      img: "images/pool.jpg",
      title: "Outdoor Pool",
      desc: "Relax at our panoramic sea-view pool with sunbeds and cocktail service."
    },
    {
      img: "images/restaurant.jpg",
      title: "Gourmet Restaurant",
      desc: "Enjoy authentic Mediterranean dishes prepared by world-class chefs."
    },
    {
      img: "images/spa.jpg",
      title: "Luxury Spa & Wellness",
      desc: "Unwind with massages, sauna, and rejuvenating treatments onboard."
    },
    {
      img: "images/theater.jpg",
      title: "Evening Theater Shows",
      desc: "Live performances and music every night for your entertainment."
    }
  ];

  let index = 0;
  const imgEl = document.getElementById("facilityImage");
  const titleEl = document.getElementById("facilityTitle");
  const descEl = document.getElementById("facilityDescription");

  document.querySelector(".next-facility").addEventListener("click", () => {
    index = (index + 1) % facilities.length;
    updateFacility();
  });

  document.querySelector(".prev-facility").addEventListener("click", () => {
    index = (index - 1 + facilities.length) % facilities.length;
    updateFacility();
  });

  function updateFacility() {
    imgEl.style.opacity = 0;
    titleEl.style.opacity = 0;
    descEl.style.opacity = 0;

    setTimeout(() => {
      imgEl.src = facilities[index].img;
      titleEl.textContent = facilities[index].title;
      descEl.textContent = facilities[index].desc;

      imgEl.style.opacity = 1;
      titleEl.style.opacity = 1;
      descEl.style.opacity = 1;
    }, 300);
  }
});
</script>

<script>
function loadExcursions(shipName) {
  const tabsContainer = document.getElementById("tabs");
  const tabContents = document.getElementById("tabContents");
  const modal = document.getElementById("excursionModal");
  const modalTitle = document.getElementById("modalTitle");
  const modalImage = document.getElementById("modalImage");
  const modalText = document.getElementById("modalText");
  const closeBtn = modal.querySelector(".close-btn");

  fetch("data/excursions.json")
    .then(res => res.json())
    .then(data => {
      const excursions = data[shipName];
      if (!excursions) {
        tabsContainer.innerHTML = `<p style="text-align:center;">No excursions available for ${shipName}.</p>`;
        return;
      }

      const islands = Object.keys(excursions);
      tabsContainer.innerHTML = "";
      tabContents.innerHTML = "";

      islands.forEach((island, idx) => {
        const tabBtn = document.createElement("button");
        tabBtn.className = `tab ${idx === 0 ? "active" : ""}`;
        tabBtn.textContent = island;
        tabBtn.dataset.target = island.toLowerCase();
        tabsContainer.appendChild(tabBtn);

        const tabContent = document.createElement("div");
        tabContent.className = `tab-content ${idx === 0 ? "active" : ""}`;
        tabContent.id = island.toLowerCase();

        const list = document.createElement("div");
        list.className = "excursion-list";

        excursions[island].forEach(exc => {
          const box = document.createElement("div");
          box.className = "excursion-box";
          box.innerHTML = `
            <h4>${exc.title}</h4>
            <p>${exc.desc}</p>
            <div class="excursion-prices">
              <span><strong>Adults:</strong> ${exc.priceAdults}</span>
              <span><strong>Children:</strong> ${exc.priceChildren}</span>
            </div>
          `;
          box.addEventListener("click", () => openExcursionModal(exc));
          list.appendChild(box);
        });

        tabContent.appendChild(list);
        tabContents.appendChild(tabContent);
      });

      // tab switching
      document.querySelectorAll(".tab").forEach(tab => {
        tab.addEventListener("click", () => {
          document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
          document.querySelectorAll(".tab-content").forEach(c => c.classList.remove("active"));
          tab.classList.add("active");
          document.getElementById(tab.dataset.target).classList.add("active");
        });
      });
    })
    .catch(err => {
      console.error("âŒ Error loading excursions.json:", err);
      tabsContainer.innerHTML = `<p>Error loading excursions data.</p>`;
    });

  // modal behavior
  function openExcursionModal(exc) {
    modalTitle.textContent = exc.title;
    modalImage.src = exc.image || "images/default.jpg";
    modalText.textContent = exc.desc;
    modal.style.display = "flex";
  }

  closeBtn.addEventListener("click", () => (modal.style.display = "none"));
  window.addEventListener("click", e => {
    if (e.target === modal) modal.style.display = "none";
  });
}
</script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const toggleBtn = document.querySelector(".menu-toggle");
  const navLinks = document.querySelector(".nav-links");

  toggleBtn.addEventListener("click", () => {
    navLinks.classList.toggle("active");
    toggleBtn.querySelector("i").classList.toggle("fa-bars");
    toggleBtn.querySelector("i").classList.toggle("fa-xmark"); // ÎµÎ½Î±Î»Î»Î±Î³Î® ÎµÎ¹ÎºÎ¿Î½Î¹Î´Î¯Î¿Ï…
  });

  // ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿ ÏŒÏ„Î±Î½ Ï€Î±Ï„Î·Î¸ÎµÎ¯ ÏƒÏÎ½Î´ÎµÏƒÎ¼Î¿Ï‚
  document.querySelectorAll(".nav-links a").forEach(link => {
    link.addEventListener("click", () => {
      navLinks.classList.remove("active");
      toggleBtn.querySelector("i").classList.add("fa-bars");
      toggleBtn.querySelector("i").classList.remove("fa-xmark");
    });
  });
});
</script>

<script>

  //script for similar cruises
document.addEventListener("DOMContentLoaded", () => {
  const currentCruise = localStorage.getItem("selectedCruise");

  fetch("data/cruises.json")
    .then(res => res.json())
    .then(data => {
      const allCruises = Object.values(data);

      // Î’ÏÎµÏ‚ 4 Ï€Î±ÏÏŒÎ¼Î¿Î¹Î± packages (Î´Î¹Î±Ï†Î¿ÏÎµÏ„Î¹ÎºÎ¬ Î±Ï€ÏŒ Ï„Î¿ Ï„ÏÎ­Ï‡Î¿Î½)
      const similar = allCruises
        .filter(p => p.title !== currentCruise)
        .sort(() => 0.5 - Math.random())
        .slice(0, 4);

      const container = document.getElementById("similarCruisesContainer");
      if (!container) return;

      if (similar.length === 0) {
        container.innerHTML = "<p style='color:#666; text-align:center;'>No similar cruises available.</p>";
        return;
      }

      container.innerHTML = similar
        .map(cruise => `
          <div class="cruise-box" data-title="${cruise.title}">
            <img src="${cruise.image || 'images/default.jpg'}" alt="${cruise.title}">
            <p>${cruise.title}</p>
          </div>
        `)
        .join("");

      // ÎšÎ»Î¹Îº â†’ Î¼ÎµÏ„Î¬Î²Î±ÏƒÎ· ÏƒÏ„Î· ÏƒÎµÎ»Î¯Î´Î± Ï„Î¿Ï… package
      container.querySelectorAll(".cruise-box").forEach(box => {
        box.addEventListener("click", () => {
          localStorage.setItem("selectedCruise", box.dataset.title);
          window.location.href = "cruise_details.html";
        });
      });
    })
    .catch(err => {
      console.error("Error loading similar cruises:", err);
      const container = document.getElementById("similarCruisesContainer");
      container.innerHTML = "<p style='color:#666; text-align:center;'>Could not load similar cruises.</p>";
    });
});
</script>


<script>
document.addEventListener("DOMContentLoaded", () => {

  // === Book Now buttons handler ===
  document.addEventListener("click", async e => {
    const btn = e.target.closest(".book-btn, .floating-book-btn");
    if (!btn) return;

    let cruiseTitle = "Cruise";
    const card = btn.closest(".card");

    if (card) {
      cruiseTitle =
        card.querySelector(".cruise-title, .package-title")?.textContent.trim() || "Cruise";
    } else {
      cruiseTitle =
        document.querySelector(".cruise-title, .package-title")?.textContent.trim() ||
        localStorage.getItem("selectedCruise") ||
        "Cruise";
    }

    try {
      const res = await fetch("data/cruises.json");
      const data = await res.json();
      const cruise = Object.values(data).find(
        c => c.title.trim().toLowerCase() === cruiseTitle.trim().toLowerCase()
      );

      if (!cruise || !cruise.dates?.length) {
        alert("Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ Î´Î¹Î±Î¸Î­ÏƒÎ¹Î¼ÎµÏ‚ Î·Î¼ÎµÏÎ¿Î¼Î·Î½Î¯ÎµÏ‚ Î³Î¹Î± Î±Ï…Ï„Î® Ï„Î·Î½ ÎºÏÎ¿Ï…Î±Î¶Î¹Î­ÏÎ±.");
        return;
      }

      localStorage.setItem("selectedCruise", cruise.title);
      localStorage.setItem("availableDates", JSON.stringify(cruise.dates));
      showCalendarModal(cruise.title, cruise.dates);
    } catch (err) {
      console.error("Î£Ï†Î¬Î»Î¼Î± Ï†ÏŒÏÏ„Ï‰ÏƒÎ·Ï‚ cruises.json:", err);
      alert("Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î· Ï†ÏŒÏÏ„Ï‰ÏƒÎ· Ï„Ï‰Î½ Î´Î¹Î±Î¸Î­ÏƒÎ¹Î¼Ï‰Î½ Î·Î¼ÎµÏÎ¿Î¼Î·Î½Î¹ÏÎ½.");
    }
  });


  // === Î£Ï…Î½Î¬ÏÏ„Î·ÏƒÎ· ÎµÎ¼Ï†Î¬Î½Î¹ÏƒÎ·Ï‚ ÎºÎ±Î¹ Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î±Ï‚ Î·Î¼ÎµÏÎ¿Î»Î¿Î³Î¯Î¿Ï… ===
  function showCalendarModal(title, availableDates) {
    const modal = document.getElementById("bookingModal");
    const container = document.getElementById("calendarContainer");
    const titleEl = document.getElementById("bookingTitle");
    titleEl.textContent = `Book: ${title}`;
    modal.style.display = "flex";

    const monthMap = { Jan:0, Feb:1, Mar:2, Apr:3, May:4, Jun:5,
                       Jul:6, Aug:7, Sep:8, Oct:9, Nov:10, Dec:11 };
    const parsedDates = availableDates.map(d => {
      const [day, mon, year] = d.split(" ");
      const month = monthMap[mon];
      if (month === undefined) return null;
      return new Date(year, month, parseInt(day));
    }).filter(Boolean);

    let current = parsedDates.length > 0 ? new Date(parsedDates[0]) : new Date();

    function renderCalendar(month, year) {
      container.innerHTML = "";
      const monthNames = [
        "January","February","March","April","May","June",
        "July","August","September","October","November","December"
      ];
      const days = ["SUN","MON","TUE","WED","THU","FRI","SAT"];

      const header = document.createElement("div");
      header.className = "calendar-header";
      header.innerHTML = `
        <button id="prevMonth">&#10094;</button>
        <div><strong>${monthNames[month]} ${year}</strong></div>
        <button id="nextMonth">&#10095;</button>
      `;
      container.appendChild(header);

      const grid = document.createElement("div");
      grid.className = "calendar-grid";
      days.forEach(d => {
        const dn = document.createElement("div");
        dn.className = "day-name";
        dn.textContent = d;
        grid.appendChild(dn);
      });

      const firstDay = new Date(year, month, 1).getDay();
      const totalDays = new Date(year, month + 1, 0).getDate();
      for (let i = 0; i < firstDay; i++) grid.appendChild(document.createElement("div"));

      for (let day = 1; day <= totalDays; day++) {
        const cell = document.createElement("div");
        cell.className = "day";
        cell.textContent = day;

        const isAvailable = parsedDates.some(d =>
          d.getDate() === day && d.getMonth() === month && d.getFullYear() === year
        );

        if (isAvailable) {
          cell.classList.add("available");
          cell.addEventListener("click", () => {
            document.querySelectorAll(".calendar-grid .available").forEach(c => c.classList.remove("selected"));
            cell.classList.add("selected");
            cell.dataset.selectedDate = `${day} ${monthNames[month]} ${year}`;
          });
        }
        grid.appendChild(cell);
      }
      container.appendChild(grid);

      document.getElementById("prevMonth").onclick = () => {
        current.setMonth(current.getMonth() - 1);
        renderCalendar(current.getMonth(), current.getFullYear());
      };
      document.getElementById("nextMonth").onclick = () => {
        current.setMonth(current.getMonth() + 1);
        renderCalendar(current.getMonth(), current.getFullYear());
      };
    }

    renderCalendar(current.getMonth(), current.getFullYear());

    // âœ… ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿ Î¼Îµ Î§ Î® ÎµÎºÏ„ÏŒÏ‚ modal
    const closeBtn = modal.querySelector(".close-btn");
    closeBtn.onclick = () => { modal.style.display = "none"; };

    window.addEventListener("click", e => {
      if (e.target === modal) modal.style.display = "none";
    });

    // Î£Ï…Î½Î­Ï‡ÎµÎ¹Î± ÎºÏÎ¬Ï„Î·ÏƒÎ·Ï‚
    document.getElementById("continueBooking").onclick = () => {
      const selected = document.querySelector(".calendar-grid .selected");
      if (!selected) {
        alert("Please choose a date!");
        return;
      }
      const chosen = selected.dataset.selectedDate;
      localStorage.setItem("selectedDate", chosen);
      window.location.href = "booking.html";
    };
  }
});
</script>



</body>
</html>
